---
# ===========================================================================
# HELIOS ROOT DOCKER COMPOSE CONFIGURATION
# ===========================================================================
# This is the main orchestration file that ties together all HELIOS services
# It uses Docker Compose's include feature to manage multiple service groups
# while providing shared resources like networks and volumes
# ===========================================================================

name: helios

# Include sub-compose files
# This approach provides modularity while maintaining unified orchestration
include:
  # Console services (management, monitoring, automation)
  - path: ./deployments/console/docker-compose.yml
    project_directory: ./deployments/console
  # Media services (content management, transcoding, downloads)
  - path: ./deployments/media/docker-compose.yml
    project_directory: ./deployments/media

# Shared networks for services that need to communicate across compose files
networks:
  proxy:
    name: helios_proxy
    external: true
  console_agent_network:
    name: helios_console_agent_network
    external: true

# Define secrets to securely handle sensitive information
# These secrets can be accessed by services that need them
secrets:
  plex_token:
    file: ./secrets/plex_token.txt
  homarr_encryption_key:
    file: ./secrets/homarr_encryption_key.txt

# Define shared volumes used across deployments
volumes:
  portainer_data:
    name: helios_portainer_data
    external: true
  homarr_data:
    name: helios_homarr_data
    external: true
